const ownerId = "nearhorizon.near";
const apiUrl = "https://api-op3o.onrender.com";
const content = props.content ?? "dashboard";

const percentage = (completed, total) => {
  return (completed / total).toLocaleString("en-GB", { style: "percent" });
};

const basicCompletion = () => {
  let completed = 0;
  const total = 14;
  if (state.name) completed++;
  if (state.description) completed++;
  if (state.tagline) completed++;
  if (state.image) completed++;
  if (state.website) completed++;
  if (state.linktree) completed++;
  if (state.verticals) completed++;
  if (state.product_type) completed++;
  if (state.company_size) completed++;
  if (state.geo) completed++;
  if (state.problem) completed++;
  if (state.success_position) completed++;
  if (state.why) completed++;
  if (state.vision) completed++;

  return [completed, total];
};

const techCompletion = () => {
  let completed = 0;
  const total = 6;
  if (state.userbase) completed++;
  if (state.tam) completed++;
  if (state.dev) completed++;
  if (state.distribution) completed++;
  if (state.integration) completed++;
  if (state.contracts) completed++;

  return [completed, total];
};

const fundCompletion = () => {
  let completed = 0;
  const total = 4;
  if (state.stage) completed++;
  if (state.fundraising) completed++;
  if (state.raise) completed++;
  if (state.investment) completed++;

  return [completed, total];
};

const foundersCompletion = () => {
  let completed = 0;
  const total = 2;
  if (state.founders) completed++;
  if (state.team) completed++;

  return [completed, total];
};

const filesCompletion = () => {
  let completed = 0;
  const total = 5;
  if (state.deck) completed++;
  if (state.white_paper) completed++;
  if (state.roadmap) completed++;
  if (state.team_deck) completed++;
  if (state.demo) completed++;

  return [completed, total];
};

const Container = styled("NavigationMenu.Root")`
  width: 100%;
`;

const List = styled("NavigationMenu.List")`
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 0.81rem;
`;

if (context.accountId && !state.isOwnerFetched) {
  Near.asyncView(
    ownerId,
    "check_is_owner",
    { account_id: context.accountId },
    "final",
    false
  ).then((isOwner) =>
    State.update({
      isOwner: isOwner || allowedUsers.includes(context.accountId),
      isOwnerFetched: true,
    })
  );
  Near.asyncView(
    ownerId,
    "get_admin_projects",
    { account_id: context.accountId },
    "final",
    false
  ).then((projects) => State.update({ projects }));
  Near.asyncView(
    ownerId,
    "get_admin_vendors",
    { account_id: context.accountId },
    "final",
    false
  ).then((vendors) => State.update({ vendors }));
}

const Item = styled("NavigationMenu.Item")`
  &.active {
    & > a {
      color: var(--text-text-link, #006adc) !important;

      & > svg {
        color: var(--text-text-link, #006adc);
      }
    }
  }

  &.sub {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding-right: 0.625rem;

    & > small {
      color: var(--ui-elements-gray, #7e868c);
      font-family: "Mona Sans";
      font-size: 0.75rem;
      font-style: normal;
      font-weight: 400;
      line-height: 1.1rem; /* 146.667% */
      letter-spacing: 0.0075rem;
    }

    & > a {
      color: var(--ui-elements-dark, #11181c);
      font-family: "Mona Sans";
      font-size: 0.8125rem;
      font-style: normal;
      font-weight: 500;
      line-height: 1.1rem; /* 135.385% */
    }
  }

  & > a {
    display: flex;
    padding: 0.25rem 0.625rem 0rem 0rem;
    align-items: center;
    gap: 0.6875rem;
    width: 100%;
    color: var(--ui-elements-dark, #11181c);
    font-family: "Mona Sans";
    font-size: 0.875rem;
    font-style: normal;
    font-weight: 600;
    line-height: 142%; /* 1.2425rem */

    & > svg {
      color: #979fa4;
    }
  }
`;

const Trigger = styled.button`
  display: flex;
  padding: 0.25rem 0.625rem 0rem 0rem;
  align-items: center;
  justify-content: space-between;
  gap: 0.6875rem;
  width: 100%;
  color: var(--ui-elements-dark, #11181c);
  font-family: "Mona Sans";
  font-size: 0.875rem;
  font-style: normal;
  font-weight: 600;
  line-height: 142%; /* 1.2425rem */
  background: none;
  border: none;

  & > div {
    display: flex;
    align-items: center;
    gap: 0.6875rem;
    justify-content: flex-start;

    & > svg {
      color: #979fa4;
    }
  }

  & > svg {
    transition: transform 0.2s ease-in-out;
    transform: rotate(180deg);
  }

  &.open {
    & > svg {
      transform: rotate(-0deg);
    }
  }
`;

const collapse = styled.keyframes`
  from {
    height: 100%;
  }
  to {
    height: 0;
  }
`;

const expand = styled.keyframes`
  from {
    height: 0;
  }
  to {
    height: 100%;
  }
`;

const Content = styled.div`
  transition: height 250ms, transform 250ms ease;
  transform-origin: top;
  overflow: hidden;

  &.closed {
    /* animation: ${collapse} 250ms ease; */
    transform: scaleY(0);
    height: 0;
  }

  &.open {
    /* animation: ${expand} 250ms ease; */
    transform: scaleY(1);
    height: 100%;
  }
`;

const Sub = styled.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  gap: 0.62rem;
  padding-left: 1.875rem;
  padding-top: 0.81rem;

  & > div {
    width: 100%;
  }
`;

const Separator = styled("Separator.Root")`
  height: 1px;
  width: 100%;
  background: var(--ui-elements-light, #eceef0);
`;

const arrow = (
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M17.8002 14.9995L19 13.8331L13.0008 7.99951L7 13.8331L8.19983 14.9995L13 10.3331L17.8002 14.9995Z"
      fill="black"
    />
  </svg>
);

const createItem = ({ text, href, icon, children, hasSeparator }) => (
  <>
    <Item className={content.startsWith(href) ? "active" : ""}>
      {!!children ? (
        <>
          <Trigger onClick={toggle} className={!state.open ? "closed" : "open"}>
            <div>
              {icon}
              {text}
            </div>
            {arrow}
          </Trigger>
          <Content forceMount className={!state.open ? "closed" : "open"}>
            <Sub>
              <List>
                {children.map((child) => (
                  <Item
                    key={child.href}
                    className={
                      "sub " + (child.href === content ? "active" : "")
                    }
                  >
                    <Link
                      href={`/${ownerId}/widget/Index?tab=profile&content=${child.href}`}
                    >
                      {child.text}
                    </Link>
                    <small>{child.completion}</small>
                  </Item>
                ))}
              </List>
            </Sub>
          </Content>
        </>
      ) : (
        <Link href={`/${ownerId}/widget/Index?tab=profile&content=${href}`}>
          {icon}
          {text}
        </Link>
      )}
    </Item>
    {hasSeparator ? <Separator /> : <></>}
  </>
);

const items = [
  {
    text: "Project dashboard",
    href: "dashboard",
    icon: (
      <svg
        width="19"
        height="20"
        viewBox="0 0 19 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M9.50008 5.24996C9.93731 5.24996 10.2917 4.89552 10.2917 4.45829C10.2917 4.02107 9.93731 3.66663 9.50008 3.66663C9.06286 3.66663 8.70841 4.02107 8.70841 4.45829C8.70841 4.89552 9.06286 5.24996 9.50008 5.24996Z"
          stroke="currentColor"
          stroke-width="1.4"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M9.50008 10.7916C9.93731 10.7916 10.2917 10.4372 10.2917 9.99996C10.2917 9.56273 9.93731 9.20829 9.50008 9.20829C9.06286 9.20829 8.70841 9.56273 8.70841 9.99996C8.70841 10.4372 9.06286 10.7916 9.50008 10.7916Z"
          stroke="currentColor"
          stroke-width="1.4"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M9.50008 16.3333C9.93731 16.3333 10.2917 15.9789 10.2917 15.5416C10.2917 15.1044 9.93731 14.75 9.50008 14.75C9.06286 14.75 8.70841 15.1044 8.70841 15.5416C8.70841 15.9789 9.06286 16.3333 9.50008 16.3333Z"
          stroke="currentColor"
          stroke-width="1.4"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M15.0417 5.24996C15.479 5.24996 15.8334 4.89552 15.8334 4.45829C15.8334 4.02107 15.479 3.66663 15.0417 3.66663C14.6045 3.66663 14.2501 4.02107 14.2501 4.45829C14.2501 4.89552 14.6045 5.24996 15.0417 5.24996Z"
          stroke="currentColor"
          stroke-width="1.4"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M15.0417 10.7916C15.479 10.7916 15.8334 10.4372 15.8334 9.99996C15.8334 9.56273 15.479 9.20829 15.0417 9.20829C14.6045 9.20829 14.2501 9.56273 14.2501 9.99996C14.2501 10.4372 14.6045 10.7916 15.0417 10.7916Z"
          stroke="currentColor"
          stroke-width="1.4"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M15.0417 16.3333C15.479 16.3333 15.8334 15.9789 15.8334 15.5416C15.8334 15.1044 15.479 14.75 15.0417 14.75C14.6045 14.75 14.2501 15.1044 14.2501 15.5416C14.2501 15.9789 14.6045 16.3333 15.0417 16.3333Z"
          stroke="currentColor"
          stroke-width="1.4"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M3.95841 5.24996C4.39564 5.24996 4.75008 4.89552 4.75008 4.45829C4.75008 4.02107 4.39564 3.66663 3.95841 3.66663C3.52119 3.66663 3.16675 4.02107 3.16675 4.45829C3.16675 4.89552 3.52119 5.24996 3.95841 5.24996Z"
          stroke="currentColor"
          stroke-width="1.4"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M3.95841 10.7916C4.39564 10.7916 4.75008 10.4372 4.75008 9.99996C4.75008 9.56273 4.39564 9.20829 3.95841 9.20829C3.52119 9.20829 3.16675 9.56273 3.16675 9.99996C3.16675 10.4372 3.52119 10.7916 3.95841 10.7916Z"
          stroke="currentColor"
          stroke-width="1.4"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M3.95841 16.3333C4.39564 16.3333 4.75008 15.9789 4.75008 15.5416C4.75008 15.1044 4.39564 14.75 3.95841 14.75C3.52119 14.75 3.16675 15.1044 3.16675 15.5416C3.16675 15.9789 3.52119 16.3333 3.95841 16.3333Z"
          stroke="currentColor"
          stroke-width="1.4"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    ),
    hasSeparator: true,
  },
  {
    text: "Inbox",
    href: "inbox",
    icon: (
      <svg
        width="19"
        height="20"
        viewBox="0 0 19 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M1.97909 9.99996H4.65647C5.19893 9.99996 5.69483 10.3064 5.93742 10.7916C6.18001 11.2768 6.67591 11.5833 7.21836 11.5833H11.7815C12.3239 11.5833 12.8198 11.2768 13.0624 10.7916C13.305 10.3064 13.8009 9.99996 14.3434 9.99996H17.0208M7.09845 3.66663H11.9014C12.7539 3.66663 13.1802 3.66663 13.5565 3.79643C13.8893 3.91122 14.1924 4.09856 14.4439 4.34488C14.7283 4.62343 14.919 5.0047 15.3002 5.76721L17.0154 9.19761C17.165 9.49684 17.2398 9.64646 17.2926 9.80327C17.3394 9.94252 17.3733 10.0858 17.3936 10.2313C17.4166 10.3952 17.4166 10.5625 17.4166 10.897V12.5333C17.4166 13.8634 17.4166 14.5285 17.1577 15.0365C16.93 15.4834 16.5667 15.8467 16.1198 16.0744C15.6118 16.3333 14.9467 16.3333 13.6166 16.3333H5.38325C4.05313 16.3333 3.38806 16.3333 2.88002 16.0744C2.43314 15.8467 2.06981 15.4834 1.84211 15.0365C1.58325 14.5285 1.58325 13.8634 1.58325 12.5333V10.897C1.58325 10.5625 1.58325 10.3952 1.60619 10.2313C1.62656 10.0858 1.66039 9.94252 1.70724 9.80327C1.76 9.64646 1.83481 9.49684 1.98443 9.19761L3.69962 5.76721C4.08088 5.00469 4.27152 4.62343 4.55592 4.34488C4.80742 4.09856 5.11053 3.91122 5.44333 3.79643C5.81966 3.66663 6.24592 3.66663 7.09845 3.66663Z"
          stroke="currentColor"
          stroke-width="1.4"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    ),
    hasSeparator: true,
  },
  {
    text: "Profile",
    children: [
      {
        text: "Basic information",
        href: "basic",
        completion: percentage(...basicCompletion()),
      },
      {
        text: "Marketing & tech",
        href: "tech",
        completion: percentage(...techCompletion()),
      },
      {
        text: "Funding",
        href: "funding",
        completion: percentage(...fundCompletion()),
      },
      {
        text: "Founders",
        href: "founders",
        completion: percentage(...foundersCompletion()),
      },
      {
        text: "Project files",
        href: "files",
        completion: percentage(...filesCompletion()),
      },
    ],
    icon: (
      <svg
        width="19"
        height="20"
        viewBox="0 0 19 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M15.8334 17.125C15.8334 16.0202 15.8334 15.4678 15.6971 15.0183C15.39 14.0062 14.5981 13.2142 13.586 12.9072C13.1365 12.7708 12.5841 12.7708 11.4792 12.7708H7.52092C6.41609 12.7708 5.86368 12.7708 5.41418 12.9072C4.40211 13.2142 3.61011 14.0062 3.3031 15.0183C3.16675 15.4678 3.16675 16.0202 3.16675 17.125M13.0626 6.4375C13.0626 8.40501 11.4676 10 9.50008 10C7.53257 10 5.93758 8.40501 5.93758 6.4375C5.93758 4.46999 7.53257 2.875 9.50008 2.875C11.4676 2.875 13.0626 4.46999 13.0626 6.4375Z"
          stroke="currentColor"
          stroke-width="1.4"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    ),
  },
  {
    text: "Your requests",
    href: "requests",
    icon: (
      <svg
        width="19"
        height="20"
        viewBox="0 0 19 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g clip-path="url(#clip0_5109_29172)">
          <path
            d="M7.76033 2.95252C7.26049 2.95252 6.78112 3.16702 6.42768 3.54883C6.07424 3.93065 5.87568 4.4485 5.87568 4.98846V8.74711C5.87568 8.87172 5.82986 8.99122 5.7483 9.07934C5.66674 9.16745 5.55611 9.21695 5.44077 9.21695H1.96143C1.46159 9.21695 0.98222 9.43145 0.628781 9.81326C0.275342 10.1951 0.0767818 10.7129 0.0767818 11.2529V15.0115C0.0767818 15.2789 0.12553 15.5436 0.220242 15.7907C0.314954 16.0377 0.453776 16.2621 0.628781 16.4512C0.803786 16.6402 1.01155 16.7902 1.2402 16.8925C1.46886 16.9948 1.71393 17.0475 1.96143 17.0475H11.2397C11.4872 17.0475 11.7322 16.9948 11.9609 16.8925C12.1895 16.7902 12.3973 16.6402 12.5723 16.4512C12.7473 16.2621 12.8861 16.0377 12.9809 15.7907C13.0756 15.5436 13.1243 15.2789 13.1243 15.0115V11.2529C13.1243 11.1283 13.1701 11.0088 13.2517 10.9207C13.3333 10.8326 13.4439 10.7831 13.5592 10.7831H17.0386C17.5384 10.7831 18.0178 10.5686 18.3712 10.1867C18.7247 9.80493 18.9232 9.28708 18.9232 8.74711V4.98846C18.9232 4.4485 18.7247 3.93065 18.3712 3.54883C18.0178 3.16702 17.5384 2.95252 17.0386 2.95252H7.76033ZM17.0386 9.21695H13.1243V4.51863H17.0386C17.1539 4.51863 17.2645 4.56813 17.3461 4.65624C17.4277 4.74435 17.4735 4.86385 17.4735 4.98846V8.74711C17.4735 8.87172 17.4277 8.99122 17.3461 9.07934C17.2645 9.16745 17.1539 9.21695 17.0386 9.21695ZM11.6746 9.21695H7.32541V4.98846C7.32541 4.86385 7.37123 4.74435 7.45279 4.65624C7.53436 4.56813 7.64498 4.51863 7.76033 4.51863H11.6746V9.21695ZM5.87568 10.7831V15.4814H1.96143C1.84608 15.4814 1.73545 15.4319 1.65389 15.3438C1.57233 15.2557 1.52651 15.1361 1.52651 15.0115V11.2529C1.52651 11.1283 1.57233 11.0088 1.65389 10.9207C1.73545 10.8326 1.84608 10.7831 1.96143 10.7831H5.87568ZM7.32541 10.7831H11.6746V15.0115C11.6746 15.1361 11.6288 15.2557 11.5472 15.3438C11.4656 15.4319 11.355 15.4814 11.2397 15.4814H7.32541V10.7831Z"
            fill="#7E868C"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M6.37159 3.4959C6.73896 3.09903 7.23839 2.875 7.76033 2.875H17.0386C17.5605 2.875 18.0599 3.09903 18.4273 3.4959C18.7945 3.89259 19 4.42956 19 4.98846V8.74711C19 9.30601 18.7945 9.84298 18.4273 10.2397C18.0599 10.6365 17.5605 10.8606 17.0386 10.8606H13.5592C13.466 10.8606 13.3754 10.9005 13.3078 10.9736C13.24 11.0468 13.2011 11.1472 13.2011 11.2529V15.0115C13.2011 15.2884 13.1506 15.5626 13.0525 15.8186C12.9543 16.0747 12.8103 16.3076 12.6284 16.5041C12.4465 16.7006 12.2303 16.8567 11.992 16.9634C11.7537 17.07 11.498 17.125 11.2397 17.125H1.96143C1.7031 17.125 1.44744 17.07 1.20909 16.9634C0.970763 16.8567 0.754561 16.7006 0.572685 16.5041C0.390819 16.3076 0.246808 16.0747 0.148638 15.8186C0.0504708 15.5626 0 15.2884 0 15.0115V11.2529C0 10.694 0.205474 10.157 0.572685 9.76033C0.940061 9.36346 1.43948 9.13942 1.96143 9.13942H5.44077C5.53401 9.13942 5.62458 9.09946 5.6922 9.0264C5.75999 8.95317 5.7989 8.85279 5.7989 8.74711V4.98846C5.7989 4.42956 6.00438 3.89259 6.37159 3.4959ZM7.76033 3.03004C7.28259 3.03004 6.82328 3.23501 6.48378 3.60177C6.14411 3.9687 5.95247 4.46743 5.95247 4.98846V8.74711C5.95247 8.89065 5.89973 9.02928 5.8044 9.13227C5.7089 9.23543 5.57822 9.29447 5.44077 9.29447H1.96143C1.48369 9.29447 1.02438 9.49944 0.684877 9.86619C0.34521 10.2331 0.153564 10.7319 0.153564 11.2529V15.0115C0.153564 15.2694 0.200588 15.5247 0.291845 15.7627C0.3831 16.0007 0.516732 16.2166 0.684877 16.3982C0.853012 16.5799 1.05233 16.7236 1.27131 16.8216C1.49028 16.9196 1.72476 16.97 1.96143 16.97H11.2397C11.4763 16.97 11.7108 16.9196 11.9298 16.8216C12.1488 16.7236 12.3481 16.5799 12.5162 16.3982C12.6844 16.2166 12.818 16.0007 12.9093 15.7627C13.0005 15.5247 13.0475 15.2694 13.0475 15.0115V11.2529C13.0475 11.1093 13.1003 10.9707 13.1956 10.8677C13.2911 10.7646 13.4218 10.7055 13.5592 10.7055H17.0386C17.5163 10.7055 17.9756 10.5006 18.3151 10.1338C18.6548 9.76687 18.8464 9.26815 18.8464 8.74711V4.98846C18.8464 4.46743 18.6548 3.9687 18.3151 3.60177C17.9756 3.23501 17.5163 3.03004 17.0386 3.03004H7.76033ZM7.76033 4.59615C7.66708 4.59615 7.57652 4.63612 7.50889 4.70917C7.4411 4.7824 7.40219 4.88278 7.40219 4.98846V9.13942H11.5978V4.59615H7.76033ZM7.3967 4.60331C7.4922 4.50014 7.62288 4.44111 7.76033 4.44111H11.7514V9.29447H7.24863V4.98846C7.24863 4.84492 7.30136 4.70629 7.3967 4.60331ZM13.0475 4.44111H17.0386C17.176 4.44111 17.3067 4.50014 17.4022 4.60331C17.4975 4.70629 17.5503 4.84492 17.5503 4.98846V8.74711C17.5503 8.89065 17.4975 9.02928 17.4022 9.13227C17.3067 9.23543 17.176 9.29447 17.0386 9.29447H13.0475V4.44111ZM13.2011 4.59615V9.13942H17.0386C17.1318 9.13942 17.2224 9.09946 17.29 9.0264C17.3578 8.95317 17.3967 8.85279 17.3967 8.74711V4.98846C17.3967 4.88278 17.3578 4.7824 17.29 4.70917C17.2224 4.63612 17.1318 4.59615 17.0386 4.59615H13.2011ZM1.96143 10.8606C1.86818 10.8606 1.77761 10.9005 1.70999 10.9736C1.6422 11.0468 1.60329 11.1472 1.60329 11.2529V15.0115C1.60329 15.1172 1.6422 15.2176 1.70999 15.2908C1.77761 15.3639 1.86818 15.4038 1.96143 15.4038H5.7989V10.8606H1.96143ZM1.5978 10.8677C1.6933 10.7646 1.82397 10.7055 1.96143 10.7055H5.95247V15.5589H1.96143C1.82397 15.5589 1.6933 15.4999 1.5978 15.3967C1.50246 15.2937 1.44973 15.1551 1.44973 15.0115V11.2529C1.44973 11.1093 1.50246 10.9707 1.5978 10.8677ZM7.24863 10.7055H11.7514V15.0115C11.7514 15.1551 11.6986 15.2937 11.6033 15.3967C11.5078 15.4999 11.3771 15.5589 11.2397 15.5589H7.24863V10.7055ZM7.40219 10.8606V15.4038H11.2397C11.3329 15.4038 11.4235 15.3639 11.4911 15.2908C11.5589 15.2176 11.5978 15.1172 11.5978 15.0115V10.8606H7.40219Z"
            fill="#7E868C"
          />
          <path
            d="M5.87568 8.74711H5.95068H5.87568ZM0.0767818 11.2529H0.00178177H0.0767818ZM0.0767818 15.0115H0.151782H0.0767818ZM1.96143 17.0475V17.1225V17.0475ZM13.1243 15.0115H13.0493H13.1243ZM13.1243 11.2529L13.1993 11.2529L13.1243 11.2529ZM18.9232 8.74711H18.9982H18.9232ZM18.9232 4.98846H18.9982H18.9232ZM13.1243 9.21695H13.0493V9.29195H13.1243V9.21695ZM13.1243 4.51863V4.44363H13.0493V4.51863H13.1243ZM17.0386 4.51863V4.44363V4.51863ZM11.6746 9.21695V9.29195H11.7496V9.21695H11.6746ZM7.32541 9.21695H7.25041V9.29195H7.32541V9.21695ZM7.76033 4.51863V4.44363V4.51863ZM11.6746 4.51863H11.7496V4.44363H11.6746V4.51863ZM5.87568 10.7831H5.95068V10.7081H5.87568V10.7831ZM5.87568 15.4814V15.5564H5.95068V15.4814H5.87568ZM1.52651 15.0115H1.45151H1.52651ZM7.32541 10.7831V10.7081H7.25041V10.7831H7.32541ZM11.6746 10.7831H11.7496V10.7081H11.6746V10.7831ZM7.32541 15.4814H7.25041V15.5564H7.32541V15.4814ZM6.37159 3.4959L6.42663 3.54685L6.42663 3.54685L6.37159 3.4959ZM18.4273 3.4959L18.3723 3.54685L18.3723 3.54685L18.4273 3.4959ZM18.4273 10.2397L18.3723 10.1887L18.3723 10.1887L18.4273 10.2397ZM13.3078 10.9736L13.3628 11.0245L13.3628 11.0245L13.3078 10.9736ZM13.0525 15.8186L12.9824 15.7918L12.9824 15.7918L13.0525 15.8186ZM12.6284 16.5041L12.5734 16.4532L12.5734 16.4532L12.6284 16.5041ZM11.992 16.9634L12.0226 17.0318L12.0226 17.0318L11.992 16.9634ZM1.20909 16.9634L1.17846 17.0318L1.17846 17.0318L1.20909 16.9634ZM0.572685 16.5041L0.517647 16.555L0.517647 16.555L0.572685 16.5041ZM0.148638 15.8186L0.218667 15.7918L0.218667 15.7918L0.148638 15.8186ZM0.572685 9.76033L0.517647 9.70938L0.517647 9.70938L0.572685 9.76033ZM5.6922 9.0264L5.63717 8.97545L5.63717 8.97545L5.6922 9.0264ZM6.48378 3.60177L6.53882 3.65272L6.53882 3.65272L6.48378 3.60177ZM5.8044 9.13227L5.85943 9.18322L5.85943 9.18322L5.8044 9.13227ZM0.684877 9.86619L0.629838 9.81524L0.629838 9.81524L0.684877 9.86619ZM0.291845 15.7627L0.221817 15.7895L0.221817 15.7895L0.291845 15.7627ZM0.684877 16.3982L0.739915 16.3473L0.739915 16.3473L0.684877 16.3982ZM1.27131 16.8216L1.24068 16.8901L1.24068 16.8901L1.27131 16.8216ZM11.9298 16.8216L11.9604 16.8901L11.9604 16.8901L11.9298 16.8216ZM12.5162 16.3982L12.5713 16.4492L12.5713 16.4492L12.5162 16.3982ZM12.9093 15.7627L12.8392 15.7358L12.8392 15.7358L12.9093 15.7627ZM13.1956 10.8677L13.1406 10.8168L13.1406 10.8168L13.1956 10.8677ZM18.3151 10.1338L18.2601 10.0829L18.2601 10.0829L18.3151 10.1338ZM18.3151 3.60177L18.2601 3.65272L18.2601 3.65272L18.3151 3.60177ZM7.50889 4.70917L7.45385 4.65822L7.45385 4.65822L7.50889 4.70917ZM7.40219 9.13942H7.32719V9.21442H7.40219V9.13942ZM11.5978 9.13942V9.21442H11.6728V9.13942H11.5978ZM11.5978 4.59615H11.6728V4.52115H11.5978V4.59615ZM7.3967 4.60331L7.45174 4.65425L7.45174 4.65425L7.3967 4.60331ZM11.7514 4.44111H11.8264V4.36611H11.7514V4.44111ZM11.7514 9.29447V9.36947H11.8264V9.29447H11.7514ZM7.24863 9.29447H7.17363V9.36947H7.24863V9.29447ZM13.0475 4.44111V4.36611H12.9725V4.44111H13.0475ZM17.4022 4.60331L17.4572 4.55236L17.4572 4.55236L17.4022 4.60331ZM17.4022 9.13227L17.4572 9.18322L17.4572 9.18322L17.4022 9.13227ZM13.0475 9.29447H12.9725V9.36947H13.0475V9.29447ZM13.2011 9.13942H13.1261V9.21442H13.2011V9.13942ZM13.2011 4.59615V4.52115H13.1261V4.59615H13.2011ZM17.29 9.0264L17.235 8.97545L17.235 8.97545L17.29 9.0264ZM17.29 4.70917L17.235 4.76012L17.235 4.76012L17.29 4.70917ZM1.70999 10.9736L1.76503 11.0245L1.76503 11.0245L1.70999 10.9736ZM1.70999 15.2908L1.76503 15.2399L1.76503 15.2399L1.70999 15.2908ZM5.7989 15.4038V15.4788H5.8739V15.4038H5.7989ZM5.7989 10.8606H5.8739V10.7856H5.7989V10.8606ZM1.5978 10.8677L1.54276 10.8168L1.54276 10.8168L1.5978 10.8677ZM5.95247 10.7055H6.02747V10.6305H5.95247V10.7055ZM5.95247 15.5589V15.6339H6.02747V15.5589H5.95247ZM1.5978 15.3967L1.54276 15.4476L1.54276 15.4476L1.5978 15.3967ZM7.24863 10.7055V10.6305H7.17363V10.7055H7.24863ZM11.7514 10.7055H11.8264V10.6305H11.7514V10.7055ZM11.6033 15.3967L11.5483 15.3457L11.5483 15.3457L11.6033 15.3967ZM7.24863 15.5589H7.17363V15.6339H7.24863V15.5589ZM7.40219 15.4038H7.32719V15.4788H7.40219V15.4038ZM7.40219 10.8606V10.7856H7.32719V10.8606H7.40219ZM11.4911 15.2908L11.5461 15.3418L11.5461 15.3418L11.4911 15.2908ZM11.5978 10.8606H11.6728V10.7856H11.5978V10.8606ZM7.76033 2.87752C7.23865 2.87752 6.73962 3.10145 6.37265 3.49789L6.48272 3.59978C6.82262 3.2326 7.28233 3.02752 7.76033 3.02752V2.87752ZM6.37265 3.49789C6.00585 3.89413 5.80068 4.43039 5.80068 4.98846H5.95068C5.95068 4.4666 6.14264 3.96716 6.48272 3.59978L6.37265 3.49789ZM5.80068 4.98846V8.74711H5.95068V4.98846H5.80068ZM5.80068 8.74711C5.80068 8.85362 5.76147 8.95471 5.69326 9.02839L5.80334 9.13028C5.89826 9.02774 5.95068 8.88982 5.95068 8.74711H5.80068ZM5.69326 9.02839C5.62524 9.10187 5.53427 9.14195 5.44077 9.14195V9.29195C5.57796 9.29195 5.70824 9.23302 5.80334 9.13028L5.69326 9.02839ZM5.44077 9.14195H1.96143V9.29195H5.44077V9.14195ZM1.96143 9.14195C1.43974 9.14195 0.94072 9.36587 0.573742 9.76231L0.68382 9.86421C1.02372 9.49702 1.48343 9.29195 1.96143 9.29195V9.14195ZM0.573742 9.76231C0.206945 10.1586 0.00178177 10.6948 0.00178177 11.2529H0.151782C0.151782 10.731 0.343739 10.2316 0.68382 9.86421L0.573742 9.76231ZM0.00178177 11.2529V15.0115H0.151782V11.2529H0.00178177ZM0.00178177 15.0115C0.00178177 15.288 0.0521791 15.5618 0.150213 15.8175L0.29027 15.7638C0.19888 15.5255 0.151782 15.2698 0.151782 15.0115H0.00178177ZM0.150213 15.8175C0.248249 16.0732 0.392077 16.3059 0.573742 16.5021L0.68382 16.4002C0.515475 16.2184 0.381659 16.0022 0.29027 15.7638L0.150213 15.8175ZM0.573742 16.5021C0.755419 16.6984 0.971417 16.8544 1.20957 16.961L1.27084 16.824C1.05168 16.726 0.852154 16.5821 0.68382 16.4002L0.573742 16.5021ZM1.20957 16.961C1.44774 17.0675 1.70324 17.1225 1.96143 17.1225L1.96143 16.9725C1.72462 16.9725 1.48998 16.9221 1.27084 16.824L1.20957 16.961ZM1.96143 17.1225H11.2397V16.9725H1.96143V17.1225ZM11.2397 17.1225C11.4979 17.1225 11.7534 17.0675 11.9915 16.961L11.9303 16.824C11.7111 16.9221 11.4765 16.9725 11.2397 16.9725V17.1225ZM11.9915 16.961C12.2297 16.8544 12.4457 16.6984 12.6274 16.5021L12.5173 16.4002C12.3489 16.5821 12.1494 16.726 11.9303 16.824L11.9915 16.961ZM12.6274 16.5021C12.809 16.3059 12.9528 16.0732 13.0509 15.8175L12.9108 15.7638C12.8194 16.0022 12.6856 16.2184 12.5173 16.4002L12.6274 16.5021ZM13.0509 15.8175C13.1489 15.5618 13.1993 15.288 13.1993 15.0115H13.0493C13.0493 15.2698 13.0022 15.5255 12.9108 15.7638L13.0509 15.8175ZM13.1993 15.0115V11.2529H13.0493V15.0115H13.1993ZM13.1993 11.2529C13.1993 11.1464 13.2385 11.0453 13.3067 10.9716L13.1967 10.8697C13.1017 10.9723 13.0493 11.1102 13.0493 11.2529L13.1993 11.2529ZM13.3067 10.9716C13.3748 10.8981 13.4657 10.8581 13.5592 10.8581V10.7081C13.422 10.7081 13.2918 10.767 13.1967 10.8697L13.3067 10.9716ZM13.5592 10.8581H17.0386V10.7081H13.5592V10.8581ZM17.0386 10.8581C17.5603 10.8581 18.0593 10.6341 18.4263 10.2377L18.3162 10.1358C17.9763 10.503 17.5166 10.7081 17.0386 10.7081V10.8581ZM18.4263 10.2377C18.7931 9.84145 18.9982 9.30518 18.9982 8.74711H18.8482C18.8482 9.26898 18.6563 9.76841 18.3162 10.1358L18.4263 10.2377ZM18.9982 8.74711V4.98846H18.8482V8.74711H18.9982ZM18.9982 4.98846C18.9982 4.43039 18.7931 3.89413 18.4263 3.49789L18.3162 3.59978C18.6563 3.96716 18.8482 4.4666 18.8482 4.98846H18.9982ZM18.4263 3.49789C18.0593 3.10145 17.5603 2.87752 17.0386 2.87752V3.02752C17.5166 3.02752 17.9763 3.2326 18.3162 3.59978L18.4263 3.49789ZM17.0386 2.87752H7.76033V3.02752H17.0386V2.87752ZM17.0386 9.14195H13.1243V9.29195H17.0386V9.14195ZM13.1993 9.21695V4.51863H13.0493V9.21695H13.1993ZM13.1243 4.59363H17.0386V4.44363H13.1243V4.59363ZM17.0386 4.59363C17.1321 4.59363 17.223 4.6337 17.2911 4.70719L17.4011 4.60529C17.306 4.50255 17.1758 4.44363 17.0386 4.44363V4.59363ZM17.2911 4.70719C17.3593 4.78087 17.3985 4.88195 17.3985 4.98846H17.5485C17.5485 4.84575 17.4961 4.70783 17.4011 4.60529L17.2911 4.70719ZM17.3985 4.98846V8.74711H17.5485V4.98846H17.3985ZM17.3985 8.74711C17.3985 8.85362 17.3593 8.95471 17.2911 9.02839L17.4011 9.13028C17.4961 9.02774 17.5485 8.88982 17.5485 8.74711H17.3985ZM17.2911 9.02839C17.223 9.10187 17.1321 9.14195 17.0386 9.14195V9.29195C17.1758 9.29195 17.306 9.23302 17.4011 9.13028L17.2911 9.02839ZM11.6746 9.14195H7.32541V9.29195H11.6746V9.14195ZM7.40041 9.21695V4.98846H7.25041V9.21695H7.40041ZM7.40041 4.98846C7.40041 4.88196 7.43963 4.78087 7.50783 4.70719L7.39776 4.60529C7.30283 4.70783 7.25041 4.84575 7.25041 4.98846H7.40041ZM7.50783 4.70719C7.57586 4.6337 7.66682 4.59363 7.76033 4.59363V4.44363C7.62314 4.44363 7.49286 4.50255 7.39776 4.60529L7.50783 4.70719ZM7.76033 4.59363H11.6746V4.44363H7.76033V4.59363ZM11.5996 4.51863V9.21695H11.7496V4.51863H11.5996ZM5.80068 10.7831V15.4814H5.95068V10.7831H5.80068ZM5.87568 15.4064H1.96143V15.5564H5.87568V15.4064ZM1.96143 15.4064C1.86792 15.4064 1.77695 15.3663 1.70893 15.2928L1.59885 15.3947C1.69395 15.4974 1.82424 15.5564 1.96143 15.5564V15.4064ZM1.70893 15.2928C1.64073 15.2191 1.60151 15.118 1.60151 15.0115H1.45151C1.45151 15.1542 1.50393 15.2922 1.59885 15.3947L1.70893 15.2928ZM1.60151 15.0115V11.2529H1.45151V15.0115H1.60151ZM1.60151 11.2529C1.60151 11.1464 1.64073 11.0453 1.70893 10.9716L1.59885 10.8697C1.50393 10.9723 1.45151 11.1102 1.45151 11.2529H1.60151ZM1.70893 10.9716C1.77695 10.8981 1.86792 10.8581 1.96143 10.8581V10.7081C1.82424 10.7081 1.69396 10.767 1.59885 10.8697L1.70893 10.9716ZM1.96143 10.8581H5.87568V10.7081H1.96143V10.8581ZM7.32541 10.8581H11.6746V10.7081H7.32541V10.8581ZM11.5996 10.7831V15.0115H11.7496V10.7831H11.5996ZM11.5996 15.0115C11.5996 15.118 11.5604 15.2191 11.4922 15.2928L11.6022 15.3947C11.6972 15.2922 11.7496 15.1542 11.7496 15.0115H11.5996ZM11.4922 15.2928C11.4241 15.3663 11.3332 15.4064 11.2397 15.4064V15.5564C11.3769 15.5564 11.5071 15.4974 11.6022 15.3947L11.4922 15.2928ZM11.2397 15.4064H7.32541V15.5564H11.2397V15.4064ZM7.40041 15.4814V10.7831H7.25041V15.4814H7.40041ZM7.76033 2.8C7.21654 2.8 6.69746 3.03346 6.31655 3.44495L6.42663 3.54685C6.78047 3.16461 7.26023 2.95 7.76033 2.95V2.8ZM17.0386 2.8H7.76033V2.95H17.0386V2.8ZM18.4824 3.44495C18.1014 3.03346 17.5824 2.8 17.0386 2.8V2.95C17.5387 2.95 18.0184 3.16461 18.3723 3.54685L18.4824 3.44495ZM19.075 4.98846C19.075 4.41146 18.8629 3.85607 18.4824 3.44495L18.3723 3.54685C18.7261 3.92911 18.925 4.44766 18.925 4.98846H19.075ZM19.075 8.74711V4.98846H18.925V8.74711H19.075ZM18.4824 10.2906C18.8629 9.8795 19.075 9.32411 19.075 8.74711H18.925C18.925 9.28791 18.7261 9.80647 18.3723 10.1887L18.4824 10.2906ZM17.0386 10.9356C17.5824 10.9356 18.1014 10.7021 18.4824 10.2906L18.3723 10.1887C18.0184 10.571 17.5387 10.7856 17.0386 10.7856V10.9356ZM13.5592 10.9356H17.0386V10.7856H13.5592V10.9356ZM13.3628 11.0245C13.4169 10.9661 13.4878 10.9356 13.5592 10.9356V10.7856C13.4442 10.7856 13.3339 10.835 13.2528 10.9226L13.3628 11.0245ZM13.2761 11.2529C13.2761 11.1653 13.3084 11.0834 13.3628 11.0245L13.2528 10.9226C13.1716 11.0103 13.1261 11.1291 13.1261 11.2529H13.2761ZM13.2761 15.0115V11.2529H13.1261V15.0115H13.2761ZM13.1225 15.8455C13.224 15.5808 13.2761 15.2975 13.2761 15.0115H13.1261C13.1261 15.2793 13.0773 15.5444 12.9824 15.7918L13.1225 15.8455ZM12.6834 16.555C12.872 16.3514 13.021 16.1102 13.1225 15.8455L12.9824 15.7918C12.8876 16.0392 12.7486 16.2639 12.5734 16.4532L12.6834 16.555ZM12.0226 17.0318C12.2705 16.9209 12.4949 16.7587 12.6834 16.555L12.5734 16.4532C12.3982 16.6424 12.1902 16.7925 11.9614 16.8949L12.0226 17.0318ZM11.2397 17.2C11.5087 17.2 11.7748 17.1427 12.0226 17.0318L11.9614 16.8949C11.7325 16.9973 11.4873 17.05 11.2397 17.05V17.2ZM1.96143 17.2H11.2397V17.05H1.96143V17.2ZM1.17846 17.0318C1.42632 17.1427 1.69241 17.2 1.96143 17.2V17.05C1.71379 17.05 1.46856 16.9973 1.23973 16.8949L1.17846 17.0318ZM0.517647 16.555C0.706194 16.7587 0.930632 16.9209 1.17846 17.0318L1.23973 16.8949C1.01089 16.7925 0.802928 16.6424 0.627724 16.4532L0.517647 16.555ZM0.0786098 15.8455C0.180103 16.1102 0.32912 16.3514 0.517647 16.555L0.627724 16.4532C0.452519 16.2639 0.313513 16.0392 0.218667 15.7918L0.0786098 15.8455ZM-0.075 15.0115C-0.075 15.2975 -0.0228797 15.5808 0.0786098 15.8455L0.218667 15.7918C0.123821 15.5444 0.075 15.2793 0.075 15.0115H-0.075ZM-0.075 11.2529V15.0115H0.075V11.2529H-0.075ZM0.517647 9.70938C0.137076 10.1205 -0.075 10.6759 -0.075 11.2529H0.075C0.075 10.7121 0.273871 10.1935 0.627724 9.81127L0.517647 9.70938ZM1.96143 9.06442C1.41764 9.06442 0.898559 9.29789 0.517647 9.70938L0.627724 9.81127C0.981562 9.42903 1.46133 9.21442 1.96143 9.21442V9.06442ZM5.44077 9.06442H1.96143V9.21442H5.44077V9.06442ZM5.63717 8.97545C5.58309 9.03387 5.51218 9.06442 5.44077 9.06442V9.21442C5.55584 9.21442 5.66607 9.16504 5.74724 9.07735L5.63717 8.97545ZM5.7239 8.74711C5.7239 8.83468 5.6916 8.91665 5.63717 8.97545L5.74724 9.07735C5.82839 8.98969 5.8739 8.8709 5.8739 8.74711H5.7239ZM5.7239 4.98846V8.74711H5.8739V4.98846H5.7239ZM6.31655 3.44495C5.93598 3.85607 5.7239 4.41146 5.7239 4.98846H5.8739C5.8739 4.44766 6.07277 3.92911 6.42663 3.54685L6.31655 3.44495ZM6.53882 3.65272C6.86478 3.30059 7.30443 3.10504 7.76033 3.10504V2.95504C7.26075 2.95504 6.78178 3.16944 6.42874 3.55082L6.53882 3.65272ZM6.02747 4.98846C6.02747 4.48553 6.21251 4.00522 6.53882 3.65272L6.42874 3.55082C6.07572 3.93218 5.87747 4.44932 5.87747 4.98846H6.02747ZM6.02747 8.74711V4.98846H5.87747V8.74711H6.02747ZM5.85943 9.18322C5.96813 9.0658 6.02747 8.90875 6.02747 8.74711H5.87747C5.87747 8.87256 5.83133 8.99277 5.74936 9.08132L5.85943 9.18322ZM5.44077 9.36947C5.60007 9.36947 5.7504 9.301 5.85943 9.18322L5.74936 9.08132C5.66739 9.16987 5.55637 9.21947 5.44077 9.21947V9.36947ZM1.96143 9.36947H5.44077V9.21947H1.96143V9.36947ZM0.739915 9.91714C1.06588 9.56501 1.50553 9.36947 1.96143 9.36947V9.21947C1.46185 9.21947 0.982882 9.43386 0.629838 9.81524L0.739915 9.91714ZM0.228564 11.2529C0.228564 10.75 0.413606 10.2696 0.739915 9.91714L0.629838 9.81524C0.276814 10.1966 0.0785635 10.7137 0.0785635 11.2529H0.228564ZM0.228564 15.0115V11.2529H0.0785635V15.0115H0.228564ZM0.361874 15.7358C0.273939 15.5065 0.228564 15.2603 0.228564 15.0115H0.0785635C0.0785635 15.2785 0.127238 15.5429 0.221817 15.7895L0.361874 15.7358ZM0.739915 16.3473C0.578431 16.1728 0.449805 15.9651 0.361874 15.7358L0.221817 15.7895C0.316395 16.0362 0.455033 16.2603 0.629838 16.4492L0.739915 16.3473ZM1.30195 16.7532C1.09246 16.6594 0.901379 16.5217 0.739915 16.3473L0.629838 16.4492C0.804645 16.638 1.0122 16.7878 1.24068 16.8901L1.30195 16.7532ZM1.96143 16.895C1.73545 16.895 1.5114 16.8469 1.30195 16.7532L1.24068 16.8901C1.46916 16.9923 1.71407 17.045 1.96143 17.045V16.895ZM11.2397 16.895H1.96143V17.045H11.2397V16.895ZM11.8991 16.7532C11.6897 16.8469 11.4656 16.895 11.2397 16.895V17.045C11.487 17.045 11.7319 16.9923 11.9604 16.8901L11.8991 16.7532ZM12.4612 16.3473C12.2997 16.5217 12.1086 16.6594 11.8991 16.7532L11.9604 16.8901C12.1889 16.7879 12.3965 16.638 12.5713 16.4492L12.4612 16.3473ZM12.8392 15.7358C12.7513 15.9651 12.6227 16.1728 12.4612 16.3473L12.5713 16.4492C12.7461 16.2603 12.8847 16.0362 12.9793 15.7895L12.8392 15.7358ZM12.9725 15.0115C12.9725 15.2603 12.9272 15.5065 12.8392 15.7358L12.9793 15.7895C13.0739 15.5429 13.1225 15.2785 13.1225 15.0115H12.9725ZM12.9725 11.2529V15.0115H13.1225V11.2529H12.9725ZM13.1406 10.8168C13.0319 10.9342 12.9725 11.0912 12.9725 11.2529H13.1225C13.1225 11.1274 13.1687 11.0072 13.2506 10.9187L13.1406 10.8168ZM13.5592 10.6305C13.3999 10.6305 13.2496 10.699 13.1406 10.8168L13.2506 10.9187C13.3326 10.8301 13.4436 10.7805 13.5592 10.7805V10.6305ZM17.0386 10.6305H13.5592V10.7805H17.0386V10.6305ZM18.2601 10.0829C17.9341 10.435 17.4945 10.6305 17.0386 10.6305V10.7805C17.5381 10.7805 18.0171 10.5661 18.3702 10.1848L18.2601 10.0829ZM18.7714 8.74711C18.7714 9.25004 18.5864 9.73035 18.2601 10.0829L18.3702 10.1848C18.7232 9.80339 18.9214 9.28625 18.9214 8.74711H18.7714ZM18.7714 4.98846V8.74711H18.9214V4.98846H18.7714ZM18.2601 3.65272C18.5864 4.00522 18.7714 4.48553 18.7714 4.98846H18.9214C18.9214 4.44932 18.7232 3.93218 18.3702 3.55082L18.2601 3.65272ZM17.0386 3.10504C17.4945 3.10504 17.9341 3.30059 18.2601 3.65272L18.3702 3.55082C18.0171 3.16944 17.5381 2.95504 17.0386 2.95504V3.10504ZM7.76033 3.10504H17.0386V2.95504H7.76033V3.10504ZM7.56393 4.76012C7.61801 4.7017 7.68891 4.67115 7.76033 4.67115V4.52115C7.64525 4.52115 7.53503 4.57053 7.45385 4.65822L7.56393 4.76012ZM7.47719 4.98846C7.47719 4.90089 7.50949 4.81893 7.56393 4.76012L7.45385 4.65822C7.37271 4.74588 7.32719 4.86468 7.32719 4.98846H7.47719ZM7.47719 9.13942V4.98846H7.32719V9.13942H7.47719ZM11.5978 9.06442H7.40219V9.21442H11.5978V9.06442ZM11.5228 4.59615V9.13942H11.6728V4.59615H11.5228ZM7.76033 4.67115H11.5978V4.52115H7.76033V4.67115ZM7.76033 4.36611C7.60103 4.36611 7.45069 4.43457 7.34166 4.55236L7.45174 4.65425C7.5337 4.56571 7.64473 4.51611 7.76033 4.51611V4.36611ZM7.34166 4.55236C7.23296 4.66978 7.17363 4.82682 7.17363 4.98846H7.32363C7.32363 4.86302 7.36976 4.74281 7.45174 4.65425L7.34166 4.55236ZM17.4572 4.55236C17.3482 4.43457 17.1979 4.36611 17.0386 4.36611V4.51611C17.1542 4.51611 17.2652 4.56571 17.3472 4.65425L17.4572 4.55236ZM17.6253 4.98846C17.6253 4.82682 17.5659 4.66978 17.4572 4.55236L17.3472 4.65425C17.4291 4.74281 17.4753 4.86302 17.4753 4.98846H17.6253ZM17.6253 8.74711V4.98846H17.4753V8.74711H17.6253ZM17.4572 9.18322C17.5659 9.06579 17.6253 8.90875 17.6253 8.74711H17.4753C17.4753 8.87256 17.4291 8.99277 17.3472 9.08132L17.4572 9.18322ZM17.0386 9.36947C17.1979 9.36947 17.3482 9.301 17.4572 9.18322L17.3472 9.08132C17.2652 9.16987 17.1542 9.21947 17.0386 9.21947V9.36947ZM13.2761 9.13942V4.59615H13.1261V9.13942H13.2761ZM17.0386 9.06442H13.2011V9.21442H17.0386V9.06442ZM17.235 8.97545C17.1809 9.03387 17.11 9.06442 17.0386 9.06442V9.21442C17.1536 9.21442 17.2639 9.16504 17.345 9.07735L17.235 8.97545ZM17.3217 8.74711C17.3217 8.83468 17.2894 8.91665 17.235 8.97545L17.345 9.07735C17.4262 8.98969 17.4717 8.8709 17.4717 8.74711H17.3217ZM17.3217 4.98846V8.74711H17.4717V4.98846H17.3217ZM17.235 4.76012C17.2894 4.81893 17.3217 4.90089 17.3217 4.98846H17.4717C17.4717 4.86468 17.4262 4.74588 17.345 4.65822L17.235 4.76012ZM17.0386 4.67115C17.11 4.67115 17.1809 4.7017 17.235 4.76012L17.345 4.65822C17.2639 4.57053 17.1536 4.52115 17.0386 4.52115V4.67115ZM13.2011 4.67115H17.0386V4.52115H13.2011V4.67115ZM1.76503 11.0245C1.81911 10.9661 1.89001 10.9356 1.96143 10.9356V10.7856C1.84635 10.7856 1.73612 10.835 1.65495 10.9226L1.76503 11.0245ZM1.67829 11.2529C1.67829 11.1653 1.71059 11.0834 1.76503 11.0245L1.65495 10.9226C1.57381 11.0103 1.52829 11.1291 1.52829 11.2529H1.67829ZM1.67829 15.0115V11.2529H1.52829V15.0115H1.67829ZM1.76503 15.2399C1.71059 15.1811 1.67829 15.0991 1.67829 15.0115H1.52829C1.52829 15.1353 1.57381 15.2541 1.65495 15.3418L1.76503 15.2399ZM1.96143 15.3288C1.89001 15.3288 1.81911 15.2983 1.76503 15.2399L1.65495 15.3418C1.73612 15.4295 1.84635 15.4788 1.96143 15.4788V15.3288ZM5.7989 15.3288H1.96143V15.4788H5.7989V15.3288ZM5.7239 10.8606V15.4038H5.8739V10.8606H5.7239ZM1.96143 10.9356H5.7989V10.7856H1.96143V10.9356ZM1.96143 10.6305C1.80212 10.6305 1.65179 10.699 1.54276 10.8168L1.65283 10.9187C1.7348 10.8301 1.84582 10.7805 1.96143 10.7805V10.6305ZM1.54276 15.4476C1.65179 15.5654 1.80212 15.6339 1.96143 15.6339V15.4839C1.84582 15.4839 1.7348 15.4343 1.65283 15.3457L1.54276 15.4476ZM1.37473 15.0115C1.37473 15.1732 1.43406 15.3302 1.54276 15.4476L1.65283 15.3457C1.57086 15.2572 1.52473 15.137 1.52473 15.0115H1.37473ZM1.37473 11.2529V15.0115H1.52473V11.2529H1.37473ZM1.54276 10.8168C1.43406 10.9342 1.37473 11.0912 1.37473 11.2529H1.52473C1.52473 11.1274 1.57086 11.0072 1.65283 10.9187L1.54276 10.8168ZM11.6583 15.4476C11.767 15.3302 11.8264 15.1732 11.8264 15.0115H11.6764C11.6764 15.137 11.6302 15.2572 11.5483 15.3457L11.6583 15.4476ZM11.2397 15.6339C11.399 15.6339 11.5493 15.5654 11.6583 15.4476L11.5483 15.3457C11.4663 15.4343 11.3553 15.4839 11.2397 15.4839V15.6339ZM7.47719 15.4038V10.8606H7.32719V15.4038H7.47719ZM11.2397 15.3288H7.40219V15.4788H11.2397V15.3288ZM11.4361 15.2399C11.382 15.2983 11.3111 15.3288 11.2397 15.3288V15.4788C11.3547 15.4788 11.465 15.4295 11.5461 15.3418L11.4361 15.2399ZM11.5228 15.0115C11.5228 15.0991 11.4905 15.1811 11.4361 15.2399L11.5461 15.3418C11.6273 15.2541 11.6728 15.1353 11.6728 15.0115H11.5228ZM11.5228 10.8606V15.0115H11.6728V10.8606H11.5228ZM7.40219 10.9356H11.5978V10.7856H7.40219V10.9356ZM11.7514 4.36611H7.76033V4.51611H11.7514V4.36611ZM11.8264 9.29447V4.44111H11.6764V9.29447H11.8264ZM7.24863 9.36947H11.7514V9.21947H7.24863V9.36947ZM7.17363 4.98846V9.29447H7.32363V4.98846H7.17363ZM17.0386 4.36611H13.0475V4.51611H17.0386V4.36611ZM13.0475 9.36947H17.0386V9.21947H13.0475V9.36947ZM12.9725 4.44111V9.29447H13.1225V4.44111H12.9725ZM5.95247 10.6305H1.96143V10.7805H5.95247V10.6305ZM6.02747 15.5589V10.7055H5.87747V15.5589H6.02747ZM1.96143 15.6339H5.95247V15.4839H1.96143V15.6339ZM11.7514 10.6305H7.24863V10.7805H11.7514V10.6305ZM11.8264 15.0115V10.7055H11.6764V15.0115H11.8264ZM7.24863 15.6339H11.2397V15.4839H7.24863V15.6339ZM7.17363 10.7055V15.5589H7.32363V10.7055H7.17363Z"
            fill="white"
          />
        </g>
        <defs>
          <clipPath id="clip0_5109_29172">
            <rect
              width="19"
              height="19"
              fill="white"
              transform="translate(0 0.5)"
            />
          </clipPath>
        </defs>
      </svg>
    ),
  },
  {
    text: "Your contracts",
    href: "contracts",
    icon: (
      <svg
        width="19"
        height="20"
        viewBox="0 0 19 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M3.16675 17.125L3.16675 3.66667M3.16675 10.7917H9.02508C9.46846 10.7917 9.69014 10.7917 9.85949 10.7054C10.0085 10.6295 10.1296 10.5084 10.2055 10.3594C10.2917 10.1901 10.2917 9.96837 10.2917 9.525V4.14167C10.2917 3.69829 10.2917 3.4766 10.2055 3.30726C10.1296 3.1583 10.0085 3.03719 9.85949 2.96129C9.69014 2.875 9.46846 2.875 9.02508 2.875H4.43341C3.99004 2.875 3.76835 2.875 3.59901 2.96129C3.45004 3.03719 3.32893 3.1583 3.25303 3.30726C3.16675 3.4766 3.16675 3.69829 3.16675 4.14167V10.7917ZM10.2917 4.45833H15.3584C15.8018 4.45833 16.0235 4.45833 16.1928 4.54462C16.3418 4.62052 16.4629 4.74163 16.5388 4.89059C16.6251 5.05994 16.6251 5.28163 16.6251 5.725V11.1083C16.6251 11.5517 16.6251 11.7734 16.5388 11.9427C16.4629 12.0917 16.3418 12.2128 16.1928 12.2887C16.0235 12.375 15.8018 12.375 15.3584 12.375H11.5584C11.115 12.375 10.8934 12.375 10.724 12.2887C10.575 12.2128 10.4539 12.0917 10.378 11.9427C10.2917 11.7734 10.2917 11.5517 10.2917 11.1083V4.45833Z"
          stroke="currentColor"
          stroke-width="1.4"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    ),
    hasSeparator: true,
  },
  {
    text: "Credit balance",
    href: "credits",
    icon: (
      <svg
        width="19"
        height="20"
        viewBox="0 0 19 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M12.6667 6.83338V4.06307C12.6667 3.40461 12.6667 3.07538 12.528 2.87305C12.4068 2.69627 12.2191 2.57619 12.0078 2.54024C11.766 2.49908 11.467 2.63705 10.8692 2.91298L3.84672 6.15412C3.31353 6.40021 3.04693 6.52326 2.85167 6.71409C2.67905 6.8828 2.54728 7.08873 2.46644 7.31616C2.375 7.57342 2.375 7.86704 2.375 8.45429V12.375M13.0625 11.9792H13.0704M2.375 9.36671L2.375 14.5917C2.375 15.4785 2.375 15.9218 2.54757 16.2605C2.69937 16.5585 2.94159 16.8007 3.23951 16.9525C3.57821 17.125 4.02158 17.125 4.90833 17.125H14.0917C14.9784 17.125 15.4218 17.125 15.7605 16.9525C16.0584 16.8007 16.3006 16.5585 16.4524 16.2605C16.625 15.9218 16.625 15.4785 16.625 14.5917V9.36672C16.625 8.47997 16.625 8.03659 16.4524 7.6979C16.3006 7.39997 16.0584 7.15775 15.7605 7.00595C15.4218 6.83338 14.9784 6.83338 14.0917 6.83338L4.90833 6.83338C4.02158 6.83338 3.57821 6.83338 3.23952 7.00595C2.94159 7.15775 2.69937 7.39997 2.54757 7.6979C2.375 8.03659 2.375 8.47996 2.375 9.36671ZM13.4583 11.9792C13.4583 12.1978 13.2811 12.375 13.0625 12.375C12.8439 12.375 12.6667 12.1978 12.6667 11.9792C12.6667 11.7606 12.8439 11.5834 13.0625 11.5834C13.2811 11.5834 13.4583 11.7606 13.4583 11.9792Z"
          stroke="currentColor"
          stroke-width="1.4"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    ),
    hasSeparator: true,
  },
  {
    text: "Growth programs",
    href: "growth",
    icon: (
      <svg
        width="19"
        height="20"
        viewBox="0 0 19 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M9.50008 12.375L7.12508 9.99999M9.50008 12.375C10.6059 11.9544 11.6668 11.424 12.6667 10.7917M9.50008 12.375V16.3333C9.50008 16.3333 11.8988 15.8979 12.6667 14.75C13.5217 13.4675 12.6667 10.7917 12.6667 10.7917M7.12508 9.99999C7.54636 8.90704 8.07683 7.85938 8.70841 6.87291C9.63085 5.39802 10.9153 4.18366 12.4395 3.34532C13.9638 2.50697 15.6772 2.07254 17.4167 2.08333C17.4167 4.23666 16.7992 8.02083 12.6667 10.7917M7.12508 9.99999H3.16675C3.16675 9.99999 3.60216 7.60124 4.75008 6.83333C6.03258 5.97833 8.70841 6.83333 8.70841 6.83333M3.56258 13.5625C2.37508 14.56 1.97925 17.5208 1.97925 17.5208C1.97925 17.5208 4.94008 17.125 5.93758 15.9375C6.49966 15.2725 6.49175 14.2512 5.86633 13.6337C5.55862 13.34 5.15327 13.1703 4.72809 13.1572C4.30292 13.144 3.88786 13.2884 3.56258 13.5625Z"
          stroke="currentColor"
          stroke-width="1.4"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    ),
    hasSeparator: true,
  },
  {
    text: "Permissions",
    href: "permissions",
    icon: (
      <svg
        width="19"
        height="20"
        viewBox="0 0 19 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M12.6666 3.24531C13.8396 3.82825 14.6458 5.03874 14.6458 6.4375C14.6458 7.83626 13.8396 9.04675 12.6666 9.62969M14.2499 13.7734C15.4465 14.3149 16.524 15.1973 17.4166 16.3333M1.58325 16.3333C3.12422 14.372 5.21635 13.1667 7.52075 13.1667C9.82515 13.1667 11.9173 14.372 13.4583 16.3333M11.0833 6.4375C11.0833 8.40501 9.48827 10 7.52075 10C5.55324 10 3.95825 8.40501 3.95825 6.4375C3.95825 4.46999 5.55324 2.875 7.52075 2.875C9.48827 2.875 11.0833 4.46999 11.0833 6.4375Z"
          stroke="currentColor"
          stroke-width="1.4"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    ),
  },
  {
    text: "Settings",
    href: "settings",
    icon: (
      <svg
        width="19"
        height="20"
        viewBox="0 0 19 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M2.375 6.83337L11.875 6.83337M11.875 6.83337C11.875 8.14505 12.9383 9.20837 14.25 9.20837C15.5617 9.20837 16.625 8.14505 16.625 6.83337C16.625 5.5217 15.5617 4.45837 14.25 4.45837C12.9383 4.45837 11.875 5.5217 11.875 6.83337ZM7.125 13.1667L16.625 13.1667M7.125 13.1667C7.125 14.4784 6.06168 15.5417 4.75 15.5417C3.43832 15.5417 2.375 14.4784 2.375 13.1667C2.375 11.855 3.43832 10.7917 4.75 10.7917C6.06168 10.7917 7.125 11.855 7.125 13.1667Z"
          stroke="currentColor"
          stroke-width="1.4"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    ),
  },
];

if (state.isAdmin) {
  items.push({
    text: "Admin",
    href: "admin",
    icon: (
      <svg
        width="18"
        height="22"
        viewBox="0 0 18 22"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M8.30201 20.6149C8.5234 20.7441 8.6341 20.8087 8.79032 20.8422C8.91156 20.8682 9.08844 20.8682 9.20968 20.8422C9.3659 20.8087 9.4766 20.7441 9.69799 20.6149C11.646 19.4785 17 15.9085 17 11.0001V7.20007C17 6.12617 17 5.58923 16.8345 5.20807C16.6662 4.82067 16.4986 4.61458 16.1536 4.37097C15.8141 4.13129 15.1486 3.99289 13.8177 3.71609C12.3508 3.41101 11.2243 2.8601 10.1944 2.06339C9.70051 1.68133 9.45357 1.49031 9.26034 1.43821C9.05644 1.38323 8.94356 1.38323 8.73966 1.43821C8.54643 1.49031 8.29949 1.68134 7.80562 2.06339C6.77572 2.8601 5.6492 3.41101 4.1823 3.71609C2.85137 3.99289 2.18591 4.13129 1.84645 4.37097C1.50142 4.61458 1.33379 4.82067 1.16554 5.20807C1 5.58923 1 6.12617 1 7.20007V11.0001C1 15.9085 6.35396 19.4785 8.30201 20.6149Z"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    ),
  });
}

State.init({
  open: items[2].children.some((item) => item.href === content) ?? false,
  profileIsFetched: false,
  projectIsFetched: false,
  isAdmin: false,
  isAdminIsFetched: false,
});

const toggle = () => {
  State.update({ open: !state.open });
};

if (!state.profileIsFetched) {
  Near.asyncView(
    "social.near",
    "get",
    { keys: [`${context.accountId}/profile/**`] },
    "final",
    false
  ).then((data) => {
    const profile = data[`${context.accountId}`]?.profile || {};
    State.update({
      description: profile.description,
      website: profile.website ?? profile.linktree?.website,
      linktree: profile.linktree,
      verticals: profile.verticals ?? { [profile.category]: "" },
      product_type: profile.product_type,
      company_size: profile.team ?? profile.company_size,
      userbase: profile.userbase,
      tam: profile.tam,
      dev: profile.dev,
      distribution: profile.distribution,
      stage: profile.stage,
      profileIsFetched: true,
    });
  });
}

if (!state.projectIsFetched) {
  Near.asyncView(
    ownerId,
    "get_project",
    { account_id: context.accountId },
    "final",
    false
  ).then((project) => {
    State.update({
      integration: project.integration,
      contracts: project.contracts,
      geo: project.geo,
      problem: project.problem,
      success_position: project.success_position,
      why: project.why,
      vision: project.vision,
      deck: project.deck,
      white_paper: project.white_paper,
      roadmap: project.roadmap,
      team_deck: project.team_deck,
      demo: project.demo,
      founders: project.founders,
      team: project.team,
      projectIsFetched: true,
    });
  });
}

if (!state.isAdminIsFetched) {
  if (context.accountId) {
    Near.asyncView(
      ownerId,
      "check_is_owner",
      { account_id: context.accountId },
      "final",
      false
    ).then((isAdmin) =>
      State.update({
        isAdmin:
          isAdmin ||
          ["lccc.near", "jarrodbarnes.near"].includes(context.accountId),
        isAdminIsFetched: true,
      })
    );
  } else {
    State.update({ isProfile: false, isProfileIsFetched: true });
  }
}

return (
  <Container orientation="vertical">
    <List>{items.map((item) => createItem(item))}</List>
  </Container>
);
